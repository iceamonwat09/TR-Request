# ‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå Deputy Managing Director (‡∏£‡∏≠‡∏á‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£)

## ‡∏™‡∏≤‡∏£‡∏ö‡∏±‡∏ç
1. [‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Ç‡∏≠‡∏á‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå](#‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Ç‡∏≠‡∏á‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå)
2. [‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ 6 ‡∏£‡∏∞‡∏î‡∏±‡∏ö](#‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥-6-‡∏£‡∏∞‡∏î‡∏±‡∏ö)
3. [‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•](#‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•)
4. [‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥](#‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥)
5. [‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞ Logic ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô](#‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞-logic-‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô)
6. [Controllers ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•](#controllers-‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•)
7. [Views ‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ](#views-‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ)
8. [‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô (Skip)](#‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô-skip)
9. [‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ó‡∏≤‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•](#‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ó‡∏≤‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•)
10. [‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö](#‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö)
11. [‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö](#‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö)

---

## ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Ç‡∏≠‡∏á‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå

### ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå
‡πÄ‡∏û‡∏¥‡πà‡∏° **Deputy Managing Director (‡∏£‡∏≠‡∏á‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£)** ‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà 6 ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô**‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢**‡πÉ‡∏ô‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏≠‡∏ö‡∏£‡∏°

### ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç
- Deputy Managing Director ‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢ ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏à‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô **"APPROVED"** (‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢)
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô (Skip) ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° **"‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥"**
- Human Resources Department (HRD) Admin ‡πÅ‡∏•‡∏∞ HRD Confirmation ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡πÄ‡∏õ‡πá‡∏ô**‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô** (‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏î‡πâ)

### ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ï‡πà‡∏≠‡∏£‡∏∞‡∏ö‡∏ö
- **‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•**: ‡πÄ‡∏û‡∏¥‡πà‡∏° 4 ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡πÉ‡∏´‡∏°‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Deputy Managing Director
- **Models**: ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï ViewModels ‡πÉ‡∏´‡πâ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà
- **Services**: ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Workflow Logic ‡πÉ‡∏´‡πâ Deputy Managing Director ‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢
- **Controllers**: ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏Å‡∏≤‡∏£ Insert, Update, ‡πÅ‡∏•‡∏∞ Approval Logic
- **Views**: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÅ‡∏•‡∏∞‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Deputy Managing Director
- **Email**: ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡πÄ‡∏ó‡∏°‡πÄ‡∏û‡∏•‡∏ï‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÉ‡∏´‡πâ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏£‡∏ö 6 ‡∏£‡∏∞‡∏î‡∏±‡∏ö

---

## ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ 6 ‡∏£‡∏∞‡∏î‡∏±‡∏ö

### ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ (Approval Flow)

```
1. Section Manager (‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏ú‡∏ô‡∏Å)
   ‚Üì
2. Department Manager (‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ù‡πà‡∏≤‡∏¢)
   ‚Üì
3. HRD Admin (‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö HRD) ‚ö†Ô∏è ‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏î‡πâ
   ‚Üì
4. HRD Confirmation (‡∏ú‡∏π‡πâ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏à‡∏≤‡∏Å HRD) ‚ö†Ô∏è ‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏î‡πâ
   ‚Üì
5. Managing Director (‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£)
   ‚Üì
6. Deputy Managing Director (‡∏£‡∏≠‡∏á‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£) üÜï ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢
   ‚Üì
   ‚úÖ APPROVED (‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢)
```

### ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö (System Status)

| ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà | ‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏∞‡∏ö‡∏ö | ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏î‡πâ |
|---------|----------|-----------|--------------|
| 1 | Section Manager | `WAITING_FOR_SECTION_MANAGER` | ‚úÖ ‡πÑ‡∏î‡πâ |
| 2 | Department Manager | `WAITING_FOR_DEPARTMENT_MANAGER` | ‚úÖ ‡πÑ‡∏î‡πâ |
| 3 | HRD Admin | `WAITING_FOR_HRD_ADMIN` | ‚ùå ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ |
| 4 | HRD Confirmation | `WAITING_FOR_HRD_CONFIRMATION` | ‚ùå ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ |
| 5 | Managing Director | `WAITING_FOR_MANAGING_DIRECTOR` | ‚úÖ ‡πÑ‡∏î‡πâ |
| 6 | Deputy Managing Director | `WAITING_FOR_DEPUTY_MANAGING_DIRECTOR` | ‚úÖ ‡πÑ‡∏î‡πâ |
| - | ‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢ | `APPROVED` | - |

---

## ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

### ‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡πÉ‡∏´‡∏°‡πà

**‡πÑ‡∏ü‡∏•‡πå**: `Database/AddDeputyManagingDirector.sql`

```sql
ALTER TABLE [dbo].[TrainingRequests]
ADD
    -- ‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥: ‡∏£‡∏≠‡∏á‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£
    DeputyManagingDirectorId NVARCHAR(100) NULL,

    -- ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥: Pending, Approved, Rejected, Revise
    Status_DeputyManagingDirector NVARCHAR(20) NULL,

    -- ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
    Comment_DeputyManagingDirector NVARCHAR(500) NULL,

    -- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥: ‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ / ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà / ‡πÄ‡∏ß‡∏•‡∏≤
    ApproveInfo_DeputyManagingDirector NVARCHAR(200) NULL;
```

### ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå

| ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå | ‡∏ä‡∏ô‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• | ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢ | ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• |
|---------|-----------|----------|---------------|
| `DeputyManagingDirectorId` | NVARCHAR(100) | ‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡πà‡∏≤ "‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥" | `deputy@company.com` ‡∏´‡∏£‡∏∑‡∏≠ `‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥` |
| `Status_DeputyManagingDirector` | NVARCHAR(20) | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ | `Pending`, `Approved`, `Rejected`, `Revise` |
| `Comment_DeputyManagingDirector` | NVARCHAR(500) | ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡πÑ‡∏ß‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ | `‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß` |
| `ApproveInfo_DeputyManagingDirector` | NVARCHAR(200) | ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ | `deputy@company.com / 20/12/2025 / 09:43` |

### ‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏î‡∏¥‡∏°

**‡πÑ‡∏ü‡∏•‡πå**: `Database/UpdateExistingRecords_DeputyMD.sql`

```sql
-- ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏´‡πâ‡∏°‡∏µ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ Pending
UPDATE [dbo].[TrainingRequests]
SET
    Status_SectionManager = ISNULL(Status_SectionManager, 'Pending'),
    Status_DepartmentManager = ISNULL(Status_DepartmentManager, 'Pending'),
    Status_HRDAdmin = ISNULL(Status_HRDAdmin, 'Pending'),
    Status_HRDConfirmation = ISNULL(Status_HRDConfirmation, 'Pending'),
    Status_ManagingDirector = ISNULL(Status_ManagingDirector, 'Pending'),
    Status_DeputyManagingDirector = ISNULL(Status_DeputyManagingDirector, 'Pending')
WHERE IsActive = 1;
```

### ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ‡πÅ‡∏ö‡∏ö‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á (Backward Compatibility)

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤**: Records ‡πÄ‡∏Å‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏°‡∏µ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå Deputy Managing Director ‡∏à‡∏∞‡∏°‡∏µ `DeputyManagingDirectorId = NULL`

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**: Logic ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤ `NULL` ‡∏´‡∏£‡∏∑‡∏≠ `Empty String` = **Skip (‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ)**

```csharp
private bool IsSkipApprover(string approverId)
{
    // NULL ‡∏´‡∏£‡∏∑‡∏≠ empty string = SKIP (‡πÄ‡∏û‡∏∑‡πà‡∏≠ backward compatibility)
    if (string.IsNullOrWhiteSpace(approverId))
        return true;

    // ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤ SKIP_APPROVER ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
    return string.Equals(approverId.Trim(), SKIP_APPROVER, StringComparison.OrdinalIgnoreCase);
}
```

---

## ‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥

### TrainingRequestEditViewModel

**‡πÑ‡∏ü‡∏•‡πå**: `Models/TrainingRequestEditViewModel.cs`

‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥ 4 ‡∏ï‡∏±‡∏ß‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Deputy Managing Director:

```csharp
public class TrainingRequestEditViewModel
{
    // ... ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏≠‡∏∑‡πà‡∏ô‡πÜ ...

    // ========================================
    // Level 6: Deputy Managing Director (‡∏£‡∏≠‡∏á‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£)
    // ========================================

    /// <summary>
    /// ‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏Ç‡∏≠‡∏á Deputy Managing Director ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡πà‡∏≤ "‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥"
    /// </summary>
    public string? DeputyManagingDirectorId { get; set; }

    /// <summary>
    /// ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏Ç‡∏≠‡∏á Deputy Managing Director
    /// ‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ: Pending, Approved, Rejected, Revise
    /// </summary>
    public string? Status_DeputyManagingDirector { get; set; }

    /// <summary>
    /// ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡∏≠‡∏á Deputy Managing Director ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò
    /// </summary>
    public string? Comment_DeputyManagingDirector { get; set; }

    /// <summary>
    /// ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥: ‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ / ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà / ‡πÄ‡∏ß‡∏•‡∏≤
    /// ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö: "deputy@company.com / 20/12/2025 / 09:43"
    /// </summary>
    public string? ApproveInfo_DeputyManagingDirector { get; set; }
}
```

### ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥

1. **DeputyManagingDirectorId**:
   - ‡πÄ‡∏Å‡πá‡∏ö‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ ‡πÄ‡∏ä‡πà‡∏ô `deputy@company.com`
   - ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡πà‡∏≤ `"‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥"` ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ
   - ‡∏´‡∏£‡∏∑‡∏≠ `NULL` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö records ‡πÄ‡∏Å‡πà‡∏≤ (‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤ Skip)

2. **Status_DeputyManagingDirector**:
   - `"Pending"`: ‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
   - `"Approved"`: ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß
   - `"Rejected"`: ‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò
   - `"Revise"`: ‡∏™‡πà‡∏á‡∏Å‡∏•‡∏±‡∏ö‡πÉ‡∏´‡πâ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

3. **Comment_DeputyManagingDirector**:
   - ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÉ‡∏´‡πâ‡πÑ‡∏ß‡πâ
   - ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡πá‡∏ô `NULL` ‡πÑ‡∏î‡πâ

4. **ApproveInfo_DeputyManagingDirector**:
   - ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•: `"‡∏≠‡∏µ‡πÄ‡∏°‡∏• / ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà / ‡πÄ‡∏ß‡∏•‡∏≤"`
   - ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò

---

## ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞ Logic ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

### ApprovalWorkflowService.cs

#### 1. ‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô

```csharp
// ‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≤‡∏°‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
private const string SKIP_APPROVER = "‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥";
```

#### 2. ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô

```csharp
/// <summary>
/// ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏Ñ‡∏ô‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≤‡∏°‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
/// </summary>
/// <param name="approverId">‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</param>
/// <returns>true ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô, false ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà</returns>
private bool IsSkipApprover(string approverId)
{
    // ‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà 1: NULL ‡∏´‡∏£‡∏∑‡∏≠ empty string = SKIP
    // (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö backward compatibility ‡∏Å‡∏±‡∏ö records ‡πÄ‡∏Å‡πà‡∏≤)
    if (string.IsNullOrWhiteSpace(approverId))
        return true;

    // ‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà 2: ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤ SKIP_APPROVER ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
    // ‡πÉ‡∏ä‡πâ StringComparison.OrdinalIgnoreCase ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏™‡∏ô‡πÉ‡∏à‡∏ï‡∏±‡∏ß‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏•‡πá‡∏Å-‡πÉ‡∏´‡∏ç‡πà
    return string.Equals(approverId.Trim(), SKIP_APPROVER, StringComparison.OrdinalIgnoreCase);
}
```

**Logic ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô**:
1. ‡∏ñ‡πâ‡∏≤ `approverId` ‡πÄ‡∏õ‡πá‡∏ô `NULL`, `""`, ‡∏´‡∏£‡∏∑‡∏≠ `"   "` (‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á) ‚Üí ‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤ `true` (‡∏Ç‡πâ‡∏≤‡∏°)
2. ‡∏ñ‡πâ‡∏≤ `approverId` ‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö `"‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥"` ‚Üí ‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤ `true` (‡∏Ç‡πâ‡∏≤‡∏°)
3. ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≤‡∏á‡∏ï‡πâ‡∏ô ‚Üí ‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤ `false` (‡πÑ‡∏°‡πà‡∏Ç‡πâ‡∏≤‡∏°)

#### 3. ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ñ‡∏±‡∏î‡πÑ‡∏õ (‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô)

```csharp
/// <summary>
/// ‡∏´‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡∏Ç‡∏≠‡∏á Workflow ‡πÇ‡∏î‡∏¢‡∏Ñ‡∏≥‡∏ô‡∏∂‡∏á‡∏ñ‡∏∂‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≤‡∏°‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
/// </summary>
/// <param name="request">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏≠‡∏ö‡∏£‡∏°</param>
/// <param name="currentStatus">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</param>
/// <returns>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</returns>
public string GetNextApprovalStatusWithSkip(TrainingRequestEditViewModel request, string currentStatus)
{
    switch (currentStatus)
    {
        // ‡∏£‡∏∞‡∏î‡∏±‡∏ö 1: Section Manager
        case "WAITING_FOR_SECTION_MANAGER":
            // ‡∏ñ‡πâ‡∏≤ Department Manager ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å Skip ‚Üí ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Department Manager
            if (!IsSkipApprover(request.DepartmentManagerId))
                return "WAITING_FOR_DEPARTMENT_MANAGER";
            // ‡∏ñ‡πâ‡∏≤ Skip ‚Üí ‡πÑ‡∏õ‡∏ó‡∏µ‡πà HRD Admin (‡∏Ç‡πâ‡∏≤‡∏° Department Manager)
            // HRD Admin ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ Skip ‡πÑ‡∏î‡πâ ‡∏à‡∏∂‡∏á‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ä‡πá‡∏Ñ
            return "WAITING_FOR_HRD_ADMIN";

        // ‡∏£‡∏∞‡∏î‡∏±‡∏ö 2: Department Manager
        case "WAITING_FOR_DEPARTMENT_MANAGER":
            // HRD Admin ‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ Skip ‡πÑ‡∏î‡πâ
            return "WAITING_FOR_HRD_ADMIN";

        // ‡∏£‡∏∞‡∏î‡∏±‡∏ö 3: HRD Admin
        case "WAITING_FOR_HRD_ADMIN":
            // HRD Confirmation ‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ Skip ‡πÑ‡∏î‡πâ
            return "WAITING_FOR_HRD_CONFIRMATION";

        // ‡∏£‡∏∞‡∏î‡∏±‡∏ö 4: HRD Confirmation
        case "WAITING_FOR_HRD_CONFIRMATION":
            // ‡∏ñ‡πâ‡∏≤ Managing Director ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å Skip ‚Üí ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Managing Director
            if (!IsSkipApprover(request.ManagingDirectorId))
                return "WAITING_FOR_MANAGING_DIRECTOR";
            // ‡∏ñ‡πâ‡∏≤ MD ‡∏ñ‡∏π‡∏Å Skip ‡πÅ‡∏ï‡πà Deputy MD ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å Skip ‚Üí ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Deputy MD
            if (!IsSkipApprover(request.DeputyManagingDirectorId))
                return "WAITING_FOR_DEPUTY_MANAGING_DIRECTOR";
            // ‡∏ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á MD ‡πÅ‡∏•‡∏∞ Deputy MD ‡∏ñ‡∏π‡∏Å Skip ‚Üí ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏•‡∏¢
            return "APPROVED";

        // ‡∏£‡∏∞‡∏î‡∏±‡∏ö 5: Managing Director
        case "WAITING_FOR_MANAGING_DIRECTOR":
            // ‡∏ñ‡πâ‡∏≤ Deputy MD ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å Skip ‚Üí ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Deputy MD
            if (!IsSkipApprover(request.DeputyManagingDirectorId))
                return "WAITING_FOR_DEPUTY_MANAGING_DIRECTOR";
            // ‡∏ñ‡πâ‡∏≤ Deputy MD ‡∏ñ‡∏π‡∏Å Skip ‚Üí ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏•‡∏¢ (Deputy MD ‡∏Ñ‡∏∑‡∏≠‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢)
            return "APPROVED";

        // ‡∏£‡∏∞‡∏î‡∏±‡∏ö 6: Deputy Managing Director (‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢)
        case "WAITING_FOR_DEPUTY_MANAGING_DIRECTOR":
            // Deputy Managing Director ‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏Ñ‡∏ô‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢
            // ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß ‚Üí ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏õ‡πá‡∏ô APPROVED
            return "APPROVED";

        default:
            // ‡∏ñ‡πâ‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î ‚Üí ‡∏Ñ‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏î‡∏¥‡∏°
            return currentStatus;
    }
}
```

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô**:

**‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà 1**: ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£ Skip
```
Pending
‚Üí WAITING_FOR_SECTION_MANAGER
‚Üí WAITING_FOR_DEPARTMENT_MANAGER
‚Üí WAITING_FOR_HRD_ADMIN
‚Üí WAITING_FOR_HRD_CONFIRMATION
‚Üí WAITING_FOR_MANAGING_DIRECTOR
‚Üí WAITING_FOR_DEPUTY_MANAGING_DIRECTOR
‚Üí APPROVED ‚úÖ
```

**‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà 2**: Skip Section Manager ‡πÅ‡∏•‡∏∞ Department Manager
```
Pending
‚Üí WAITING_FOR_SECTION_MANAGER (Skip ‚Üí ‡πÑ‡∏õ‡∏ï‡πà‡∏≠)
‚Üí WAITING_FOR_HRD_ADMIN
‚Üí WAITING_FOR_HRD_CONFIRMATION
‚Üí WAITING_FOR_MANAGING_DIRECTOR
‚Üí WAITING_FOR_DEPUTY_MANAGING_DIRECTOR
‚Üí APPROVED ‚úÖ
```

**‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà 3**: Skip Managing Director ‡πÅ‡∏•‡∏∞ Deputy Managing Director
```
Pending
‚Üí WAITING_FOR_SECTION_MANAGER
‚Üí WAITING_FOR_DEPARTMENT_MANAGER
‚Üí WAITING_FOR_HRD_ADMIN
‚Üí WAITING_FOR_HRD_CONFIRMATION
‚Üí WAITING_FOR_MANAGING_DIRECTOR (Skip)
‚Üí WAITING_FOR_DEPUTY_MANAGING_DIRECTOR (Skip)
‚Üí APPROVED ‚úÖ
```

#### 4. ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏≤‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏Ñ‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ

```csharp
/// <summary>
/// ‡∏´‡∏≤‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏Ñ‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ
/// </summary>
/// <param name="nextStatus">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</param>
/// <param name="request">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏≠‡∏ö‡∏£‡∏°</param>
/// <returns>‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ ‡∏´‡∏£‡∏∑‡∏≠ NULL ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£ Skip</returns>
public string GetNextApproverEmail(string nextStatus, TrainingRequestEditViewModel request)
{
    string email = nextStatus switch
    {
        "WAITING_FOR_SECTION_MANAGER" => request.SectionManagerId,
        "WAITING_FOR_DEPARTMENT_MANAGER" => request.DepartmentManagerId,
        "WAITING_FOR_HRD_ADMIN" => request.HRDAdminId,
        "WAITING_FOR_HRD_CONFIRMATION" => request.HRDConfirmationId,
        "WAITING_FOR_MANAGING_DIRECTOR" => request.ManagingDirectorId,
        "WAITING_FOR_DEPUTY_MANAGING_DIRECTOR" => request.DeputyManagingDirectorId,
        _ => null
    };

    // ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô Skip Approver ‚Üí ‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤ NULL (‡πÑ‡∏°‡πà‡∏™‡πà‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•)
    if (IsSkipApprover(email))
        return null;

    // ‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤‡∏≠‡∏µ‡πÄ‡∏°‡∏• (‡∏ï‡∏±‡∏î‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏≠‡∏≠‡∏Å)
    return email?.Trim();
}
```

**Logic ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô**:
1. ‡∏´‡∏≤‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ñ‡∏±‡∏î‡πÑ‡∏õ
2. ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô Skip Approver ‚Üí ‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤ `NULL` (‡πÑ‡∏°‡πà‡∏™‡πà‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô)
3. ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà Skip ‚Üí ‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤‡∏≠‡∏µ‡πÄ‡∏°‡∏•

#### 5. ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏Ñ‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ

```csharp
/// <summary>
/// ‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏Ñ‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô‡∏≠‡∏µ‡πÄ‡∏°‡∏•)
/// </summary>
/// <param name="nextStatus">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</param>
/// <returns>‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</returns>
public string GetNextApproverName(string nextStatus)
{
    return nextStatus switch
    {
        "WAITING_FOR_SECTION_MANAGER" => "Section Manager",
        "WAITING_FOR_DEPARTMENT_MANAGER" => "Department Manager",
        "WAITING_FOR_HRD_ADMIN" => "HRD Admin",
        "WAITING_FOR_HRD_CONFIRMATION" => "HRD Confirmation",
        "WAITING_FOR_MANAGING_DIRECTOR" => "Managing Director",
        "WAITING_FOR_DEPUTY_MANAGING_DIRECTOR" => "Deputy Managing Director",
        "APPROVED" => "Approved",
        _ => "Unknown"
    };
}
```

#### 6. ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏Å‡∏≤‡∏£ Revise

```csharp
/// <summary>
/// ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏™‡πà‡∏á‡∏Å‡∏•‡∏±‡∏ö‡πÉ‡∏´‡πâ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç (Revise)
/// </summary>
/// <param name="currentStatus">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</param>
/// <returns>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÉ‡∏´‡∏°‡πà‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å Revise</returns>
public string ProcessRevise(string currentStatus)
{
    // ‡∏ñ‡πâ‡∏≤ Deputy Managing Director ‡∏´‡∏£‡∏∑‡∏≠ Managing Director ‡∏™‡πà‡∏á Revise
    // ‚Üí ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà "Revision Admin" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡∏¢‡∏∑‡πà‡∏ô‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
    if (currentStatus == "WAITING_FOR_MANAGING_DIRECTOR" ||
        currentStatus == "WAITING_FOR_DEPUTY_MANAGING_DIRECTOR")
    {
        return "Revision Admin";
    }

    // ‡∏Å‡∏£‡∏ì‡∏µ‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‚Üí ‡∏™‡πà‡∏á‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÉ‡∏´‡πâ HRD Admin ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
    return "WAITING_FOR_HRD_ADMIN";
}
```

**Logic ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô**:
- ‡∏ñ‡πâ‡∏≤ Managing Director ‡∏´‡∏£‡∏∑‡∏≠ Deputy Managing Director ‡∏™‡πà‡∏á Revise ‚Üí ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏õ‡πá‡∏ô `"Revision Admin"` (‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡∏¢‡∏∑‡πà‡∏ô‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç)
- ‡∏Å‡∏£‡∏ì‡∏µ‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‚Üí ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà `"WAITING_FOR_HRD_ADMIN"`

---

## Controllers ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•

### TrainingRequestController.cs

#### 1. ‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏≠‡∏ö‡∏£‡∏°‡πÉ‡∏´‡∏°‡πà (Create)

**‡πÄ‡∏°‡∏ò‡∏≠‡∏î**: `InsertTrainingRequest()`

**‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Deputy Managing Director**:

```csharp
string query = @"
    INSERT INTO [HRDSYSTEM].[dbo].[TrainingRequests] (
        DocNo, Company, Division, Department, Section, Position,
        EmployeeName, EmployeeID, Email, SeminarTitle, StartDate, EndDate,
        SeminarLocation, TotalPeople, CourseFee, AccommodationFee, TravelFee,
        OtherExpenses, TotalExpenses, CCEmail, TrainingObjective, ExpectedResult,
        Status, CreatedDate, CreatedBy, IsActive, TotalPeople,

        -- ‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà 1: Section Manager
        SectionManagerId, Status_SectionManager,

        -- ‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà 2: Department Manager
        DepartmentManagerId, Status_DepartmentManager,

        -- ‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà 3: HRD Admin
        HRDAdminId, Status_HRDAdmin,

        -- ‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà 4: HRD Confirmation
        HRDConfirmationId, Status_HRDConfirmation,

        -- ‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà 5: Managing Director
        ManagingDirectorId, Status_ManagingDirector,

        -- üÜï ‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà 6: Deputy Managing Director
        DeputyManagingDirectorId, Status_DeputyManagingDirector
    )
    VALUES (
        @DocNo, @Company, @Division, @Department, @Section, @Position,
        @EmployeeName, @EmployeeID, @Email, @SeminarTitle, @StartDate, @EndDate,
        @SeminarLocation, @TotalPeople, @CourseFee, @AccommodationFee, @TravelFee,
        @OtherExpenses, @TotalExpenses, @CCEmail, @TrainingObjective, @ExpectedResult,

        'Pending', GETDATE(), @CreatedBy, 1, @TotalPeople,

        -- ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô 'Pending'
        @SectionManagerId, 'Pending',
        @DepartmentManagerId, 'Pending',
        @HRDAdminId, 'Pending',
        @HRDConfirmationId, 'Pending',
        @ManagingDirectorId, 'Pending',
        @DeputyManagingDirectorId, 'Pending'  -- üÜï
    )";
```

**‡∏™‡∏¥‡πà‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç**:
- ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° `DeputyManagingDirectorId` ‡πÅ‡∏•‡∏∞ `Status_DeputyManagingDirector` ‡πÉ‡∏ô INSERT query
- ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏Ç‡∏≠‡∏á Deputy Managing Director = `'Pending'`
- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏¥‡πà‡∏° ‚Üí ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô `NULL` ‡∏ó‡∏≥‡πÉ‡∏´‡πâ ApprovalFlow ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

#### 2. ‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ApprovalFlow

**‡πÄ‡∏°‡∏ò‡∏≠‡∏î**: `ApprovalFlow(string docNo)`

**SQL Query ‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï**:

```csharp
string query = @"
    SELECT
        Id, DocNo, Company, SeminarTitle, StartDate, EndDate,
        Status, CreatedBy, CreatedDate,

        -- ‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà 1-5
        SectionManagerId, Status_SectionManager, Comment_SectionManager, ApproveInfo_SectionManager,
        DepartmentManagerId, Status_DepartmentManager, Comment_DepartmentManager, ApproveInfo_DepartmentManager,
        HRDAdminId, Status_HRDAdmin, Comment_HRDAdmin, ApproveInfo_HRDAdmin,
        HRDConfirmationId, Status_HRDConfirmation, Comment_HRDConfirmation, ApproveInfo_HRDConfirmation,
        ManagingDirectorId, Status_ManagingDirector, Comment_ManagingDirector, ApproveInfo_ManagingDirector,

        -- üÜï ‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà 6: Deputy Managing Director
        DeputyManagingDirectorId, Status_DeputyManagingDirector,
        Comment_DeputyManagingDirector, ApproveInfo_DeputyManagingDirector

    FROM [HRDSYSTEM].[dbo].[TrainingRequests]
    WHERE DocNo = @DocNo AND IsActive = 1";
```

**‡∏Å‡∏≤‡∏£ Map ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Ç‡πâ‡∏≤ Model**:

```csharp
var model = new TrainingRequestEditViewModel
{
    // ... ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏≠‡∏∑‡πà‡∏ô‡πÜ ...

    // üÜï Deputy Managing Director
    DeputyManagingDirectorId = reader["DeputyManagingDirectorId"]?.ToString(),
    Status_DeputyManagingDirector = reader["Status_DeputyManagingDirector"]?.ToString(),
    Comment_DeputyManagingDirector = reader["Comment_DeputyManagingDirector"]?.ToString(),
    ApproveInfo_DeputyManagingDirector = reader["ApproveInfo_DeputyManagingDirector"]?.ToString()
};
```

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡∏û‡∏ö**:
- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏¥‡πà‡∏° Deputy Managing Director columns ‡πÉ‡∏ô SELECT query
- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà Map ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Ç‡πâ‡∏≤ Model
- ‚Üí ApprovalFlow ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á "‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥" ‡πÅ‡∏°‡πâ‡∏ß‡πà‡∏≤‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

---

## Views ‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ

### 1. Create.cshtml - ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏≠‡∏ö‡∏£‡∏°

#### HTML ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Deputy Managing Director

```html
<!-- ‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà 6: Deputy Managing Director -->
<div class="form-group mt-3">
    <label class="form-label fw-bold">
        üë§ Deputy Managing Director
        <small class="text-muted">(‡∏£‡∏≠‡∏á MD / Deputy MD)</small>
    </label>

    <!-- Dropdown ‡πÅ‡∏ö‡∏ö Select2 ‡∏û‡∏£‡πâ‡∏≠‡∏° AJAX -->
    <select id="deputyManagingDirectorSelect"
            class="form-select form-select-lg"
            style="width: 100%; border-radius: 10px;"
            required>
        <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Deputy Managing Director --</option>
        <option value="‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥">
            ‚è≠Ô∏è ‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
        </option>
    </select>

    <!-- Hidden field ‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡πà‡∏≤‡∏à‡∏£‡∏¥‡∏á -->
    <input type="hidden"
           id="deputyManagingDirectorIdHidden"
           name="DeputyManagingDirectorId"
           value="" />
</div>
```

#### JavaScript - Select2 AJAX Configuration

```javascript
// 4Ô∏è‚É£ Deputy Managing Director Select2
$('#deputyManagingDirectorSelect').select2({
    theme: 'bootstrap-5',
    placeholder: '‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ Deputy Managing Director...',
    allowClear: true,
    multiple: false,
    width: '100%',
    ajax: {
        url: '/api/employees/approvers/director',
        dataType: 'json',
        delay: 300,
        data: function (params) {
            console.log('üîç Searching Deputy Managing Director:', params.term);
            return {
                q: params.term || ''
            };
        },
        processResults: function (data) {
            console.log('üìã Deputy Managing Directors found:', data.length);

            // üÜï ‡πÄ‡∏û‡∏¥‡πà‡∏° SKIP option ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏£‡∏Å
            var results = [{
                id: '‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥',
                text: '‚è≠Ô∏è ‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥'
            }];

            // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏à‡∏≤‡∏Å API
            results = results.concat(data.map(function(item) {
                return {
                    id: item.email,
                    text: item.email + ' (' + item.name + ' - ' + item.level + ')'
                };
            }));

            return { results: results };
        },
        cache: false
    },
    minimumInputLength: 0
});

// ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏•‡∏á Hidden Field
$('#deputyManagingDirectorSelect').on('change', function() {
    const selectedValue = $(this).val();
    $('#deputyManagingDirectorIdHidden').val(selectedValue || '');
    console.log('‚úÖ Deputy Managing Director selected:', selectedValue);
});
```

**Logic ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á Select2 AJAX**:

1. **‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏î‡∏¥‡∏°**: HTML ‡∏°‡∏µ `<option>` SKIP ‡πÅ‡∏ï‡πà Select2 AJAX ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏î‡πâ‡∏ß‡∏¢‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å API
   ```html
   <!-- ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏´‡∏≤‡∏¢‡πÄ‡∏°‡∏∑‡πà‡∏≠ Select2 AJAX ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• -->
   <option value="‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥">...</option>
   ```

2. **‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**: ‡πÄ‡∏û‡∏¥‡πà‡∏° SKIP option ‡πÉ‡∏ô `processResults()` ‡πÅ‡∏ó‡∏ô
   ```javascript
   processResults: function (data) {
       // ‡∏™‡∏£‡πâ‡∏≤‡∏á array ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢ SKIP option
       var results = [{
           id: '‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥',
           text: '‚è≠Ô∏è ‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥'
       }];

       // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡∏ó‡πâ‡∏≤‡∏¢
       results = results.concat(data.map(...));

       return { results: results };
   }
   ```

3. **‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå**: Dropdown ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á SKIP ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏£‡∏Å ‡∏ï‡∏≤‡∏°‡∏î‡πâ‡∏ß‡∏¢‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô

### 2. Edit.cshtml - ‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡∏∞‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥

#### HTML ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Deputy Managing Director

```html
<!-- ‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà 6: Deputy Managing Director -->
<hr class="my-4">
<h5 class="fw-bold mb-3">üë§ ‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà 6: Deputy Managing Director</h5>

<div class="row g-3">
    <!-- Approver Dropdown -->
    <div class="col-md-12">
        <label class="form-label fw-bold">Deputy Managing Director</label>
        <select id="deputyManagingDirectorSelect"
                class="form-select form-select-lg"
                style="width: 100%; border-radius: 10px;"
                required>
            <option value="">‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤...</option>
            <option value="‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥">
                ‚è≠Ô∏è ‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
            </option>
        </select>
        <input type="hidden"
               id="deputyManagingDirectorIdHidden"
               name="DeputyManagingDirectorId"
               value="@Model.DeputyManagingDirectorId" />
    </div>

    <!-- Status (Read-only) -->
    <div class="col-md-4">
        <label class="form-label fw-bold">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</label>
        <input type="text"
               name="Status_DeputyManagingDirector"
               class="form-control form-control-lg"
               value="@Model.Status_DeputyManagingDirector"
               readonly
               style="background-color: #e9ecef;" />
    </div>

    <!-- Comment (Read-only) -->
    <div class="col-md-8">
        <label class="form-label fw-bold">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô</label>
        <textarea name="Comment_DeputyManagingDirector"
                  class="form-control form-control-lg"
                  rows="2"
                  readonly
                  style="background-color: #e9ecef;">@Model.Comment_DeputyManagingDirector</textarea>
    </div>

    <!-- Approval Info (Read-only) -->
    <div class="col-md-12">
        <label class="form-label fw-bold">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</label>
        <input type="text"
               name="ApproveInfo_DeputyManagingDirector"
               class="form-control form-control-lg"
               value="@Model.ApproveInfo_DeputyManagingDirector"
               readonly
               style="background-color: #e9ecef;" />
    </div>
</div>
```

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏**:
- Fields `Status`, `Comment`, ‡πÅ‡∏•‡∏∞ `ApproveInfo` ‡πÄ‡∏õ‡πá‡∏ô **readonly** ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏î‡∏¢‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
- ‡∏°‡∏µ‡πÄ‡∏û‡∏µ‡∏¢‡∏á Dropdown ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏î‡πâ

### 3. ApprovalFlow.cshtml - Timeline ‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥

#### Helper Functions

```csharp
@{
    // ‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≤‡∏°‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
    const string SKIP_APPROVER = "‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥";

    /// <summary>
    /// ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô Skip Approver ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
    /// </summary>
    bool IsSkipApprover(string approverId)
    {
        // üÜï NULL ‡∏´‡∏£‡∏∑‡∏≠ Empty = SKIP (Backward Compatibility)
        if (string.IsNullOrWhiteSpace(approverId))
            return true;

        // ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤ SKIP_APPROVER ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
        return string.Equals(approverId?.Trim(), SKIP_APPROVER, StringComparison.OrdinalIgnoreCase);
    }

    /// <summary>
    /// ‡∏´‡∏≤ CSS Class ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
    /// </summary>
    string GetStatusClass(string levelStatus, string mainStatus, string waitingStatus)
    {
        if (string.Equals(levelStatus, "Approved", StringComparison.OrdinalIgnoreCase))
            return "approved";
        if (string.Equals(levelStatus, "Reject", StringComparison.OrdinalIgnoreCase) ||
            string.Equals(levelStatus, "Rejected", StringComparison.OrdinalIgnoreCase) ||
            string.Equals(levelStatus, "Revise", StringComparison.OrdinalIgnoreCase))
            return "rejected";
        if (mainStatus == waitingStatus)
            return "waiting";
        return "pending";
    }

    /// <summary>
    /// ‡πÅ‡∏õ‡∏•‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•
    /// </summary>
    string GetStatusDisplay(string levelStatus, string mainStatus, string waitingStatus)
    {
        if (string.Equals(levelStatus, "Approved", StringComparison.OrdinalIgnoreCase))
            return "Approved";
        if (string.Equals(levelStatus, "Rejected", StringComparison.OrdinalIgnoreCase))
            return "Rejected";
        if (string.Equals(levelStatus, "Revise", StringComparison.OrdinalIgnoreCase))
            return "Revise";
        if (mainStatus == waitingStatus)
            return "Waiting";
        return "Pending";
    }
}
```

#### Timeline ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Deputy Managing Director

```html
<!-- Level 6: Deputy Managing Director -->
@{
    // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
    var dmdStatus = Model.Status_DeputyManagingDirector ?? "Pending";
    var dmdClass = GetStatusClass(dmdStatus, Model.Status, "WAITING_FOR_DEPUTY_MANAGING_DIRECTOR");
}
<div class="timeline-item">
    <!-- Marker (‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏£‡∏∞‡∏î‡∏±‡∏ö) -->
    <div class="timeline-marker @dmdClass">6</div>

    <!-- Content -->
    <div class="timeline-content @dmdClass">
        <!-- Header: ‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏∞‡∏î‡∏±‡∏ö + ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ -->
        <div class="timeline-header">
            <div class="timeline-title">üîπ Deputy Managing Director</div>
            <span class="status-badge @dmdClass">
                @GetStatusDisplay(dmdStatus, Model.Status, "WAITING_FOR_DEPUTY_MANAGING_DIRECTOR")
            </span>
        </div>

        <!-- Approver Info -->
        <div class="approver-info">
            <div class="approver-email">
                @if (IsSkipApprover(Model.DeputyManagingDirectorId))
                {
                    <!-- ‡∏Å‡∏£‡∏ì‡∏µ SKIP -->
                    <span class="text-warning">‚è≠Ô∏è ‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ (Skip)</span>
                }
                else if (!string.IsNullOrEmpty(Model.DeputyManagingDirectorId))
                {
                    <!-- ‡∏Å‡∏£‡∏ì‡∏µ‡∏°‡∏µ‡∏≠‡∏µ‡πÄ‡∏°‡∏• -->
                    <span>üìß @Model.DeputyManagingDirectorId</span>
                }
                else
                {
                    <!-- ‡∏Å‡∏£‡∏ì‡∏µ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• -->
                    <span class="text-muted">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</span>
                }
            </div>

            <!-- Approval Date/Time -->
            @if (!string.IsNullOrEmpty(Model.ApproveInfo_DeputyManagingDirector))
            {
                <div class="approval-date">
                    ‚úÖ @Model.ApproveInfo_DeputyManagingDirector
                </div>
            }
        </div>

        <!-- Comment -->
        @if (!string.IsNullOrEmpty(Model.Comment_DeputyManagingDirector))
        {
            <div class="comment-box">
                <div class="comment-label">üí¨ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô:</div>
                <div>@Model.Comment_DeputyManagingDirector</div>
            </div>
        }
    </div>
</div>
```

**Logic ‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•**:

1. **‡∏Å‡∏£‡∏ì‡∏µ SKIP** (NULL, Empty, ‡∏´‡∏£‡∏∑‡∏≠ "‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥"):
   ```
   ‚è≠Ô∏è ‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ (Skip)
   ```

2. **‡∏Å‡∏£‡∏ì‡∏µ‡∏°‡∏µ‡∏≠‡∏µ‡πÄ‡∏°‡∏•**:
   ```
   üìß deputy@company.com
   ‚úÖ deputy@company.com / 20/12/2025 / 09:43
   üí¨ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß
   ```

3. **‡∏Å‡∏£‡∏ì‡∏µ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•**:
   ```
   ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
   ```

---

## ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô (Skip)

### ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°

**‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô** ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏≠‡∏ö‡∏£‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≤‡∏°‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏ö‡∏≤‡∏á‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÑ‡∏î‡πâ ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏¥‡πÄ‡∏®‡∏© **"‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥"**

### ‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏î‡πâ

| ‡∏£‡∏∞‡∏î‡∏±‡∏ö | ‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ | ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏î‡πâ | ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏• |
|------|----------|--------------|--------|
| 1 | Section Manager | ‚úÖ ‡πÑ‡∏î‡πâ | ‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£ |
| 2 | Department Manager | ‚úÖ ‡πÑ‡∏î‡πâ | ‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£ |
| 3 | HRD Admin | ‚ùå ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ | ‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á |
| 4 | HRD Confirmation | ‚ùå ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ | ‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á |
| 5 | Managing Director | ‚úÖ ‡πÑ‡∏î‡πâ | ‡∏ö‡∏≤‡∏á‡∏Å‡∏£‡∏ì‡∏µ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ MD ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ |
| 6 | Deputy Managing Director | ‚úÖ ‡πÑ‡∏î‡πâ | ‡∏ö‡∏≤‡∏á‡∏Å‡∏£‡∏ì‡∏µ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ Deputy MD ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ |

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô

#### 1. ‡πÉ‡∏ô‡∏ü‡∏≠‡∏£‡πå‡∏° Create/Edit

‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **"‚è≠Ô∏è ‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥"** ‡∏à‡∏≤‡∏Å Dropdown

```html
<select id="sectionManagerSelect" required>
    <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Section Manager --</option>
    <option value="‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥">
        ‚è≠Ô∏è ‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
    </option>
    <!-- ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏à‡∏≤‡∏Å API -->
</select>
```

#### 2. ‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å SKIP ‚Üí ‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡πà‡∏≤ `"‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥"` ‡∏•‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

```sql
UPDATE TrainingRequests
SET SectionManagerId = '‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥'
WHERE DocNo = 'TR-2025-001';
```

#### 3. ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô

```csharp
private bool IsSkipApprover(string approverId)
{
    // ‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà 1: NULL ‡∏´‡∏£‡∏∑‡∏≠ Empty String
    // (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö backward compatibility ‡∏Å‡∏±‡∏ö records ‡πÄ‡∏Å‡πà‡∏≤)
    if (string.IsNullOrWhiteSpace(approverId))
        return true;

    // ‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà 2: ‡∏Ñ‡πà‡∏≤‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö "‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥"
    return string.Equals(approverId.Trim(), SKIP_APPROVER, StringComparison.OrdinalIgnoreCase);
}
```

**3 ‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤ SKIP**:
1. `approverId = NULL`
2. `approverId = ""`
3. `approverId = "‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥"`

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà 1**: Skip Section Manager ‡πÅ‡∏•‡∏∞ Deputy Managing Director

```
Input:
- SectionManagerId = "‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥"
- DepartmentManagerId = "dept@company.com"
- ManagingDirectorId = "md@company.com"
- DeputyManagingDirectorId = "‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥"

Workflow:
1. Pending
2. WAITING_FOR_SECTION_MANAGER ‚Üí ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (SKIP)
3. WAITING_FOR_DEPARTMENT_MANAGER ‚Üí ‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å dept@company.com
4. WAITING_FOR_HRD_ADMIN ‚Üí ‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
5. WAITING_FOR_HRD_CONFIRMATION ‚Üí ‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
6. WAITING_FOR_MANAGING_DIRECTOR ‚Üí ‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å md@company.com
7. WAITING_FOR_DEPUTY_MANAGING_DIRECTOR ‚Üí ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (SKIP)
8. APPROVED ‚úÖ
```

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà 2**: ‡πÑ‡∏°‡πà Skip ‡πÉ‡∏Ñ‡∏£‡πÄ‡∏•‡∏¢

```
Input:
- ‡∏ó‡∏∏‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏°‡∏µ‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏à‡∏£‡∏¥‡∏á (‡πÑ‡∏°‡πà‡∏°‡∏µ SKIP)

Workflow:
1. Pending
2. WAITING_FOR_SECTION_MANAGER ‚Üí ‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
3. WAITING_FOR_DEPARTMENT_MANAGER ‚Üí ‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
4. WAITING_FOR_HRD_ADMIN ‚Üí ‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
5. WAITING_FOR_HRD_CONFIRMATION ‚Üí ‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
6. WAITING_FOR_MANAGING_DIRECTOR ‚Üí ‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
7. WAITING_FOR_DEPUTY_MANAGING_DIRECTOR ‚Üí ‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
8. APPROVED ‚úÖ
```

---

## ‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ó‡∏≤‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•

### EmailService.cs

#### 1. ‡πÄ‡∏ó‡∏°‡πÄ‡∏û‡∏•‡∏ï‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Deputy Managing Director

```csharp
public async Task<bool> SendApprovalEmail(
    string toEmail,
    string approverName,
    TrainingRequestEditViewModel request,
    string currentStatus)
{
    // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏≠‡∏µ‡πÄ‡∏°‡∏•
    string subject = $"[Training Request] ‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏≠‡∏ö‡∏£‡∏° {request.DocNo} - ‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å {approverName}";

    // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏≠‡∏µ‡πÄ‡∏°‡∏•
    string body = $@"
    <html>
    <body style='font-family: Arial, sans-serif;'>
        <h2 style='color: #2c3e50;'>üîî ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô: ‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏≠‡∏ö‡∏£‡∏°‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</h2>

        <p>‡πÄ‡∏£‡∏µ‡∏¢‡∏ô <strong>{approverName}</strong>,</p>

        <p>‡∏°‡∏µ‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏≠‡∏ö‡∏£‡∏°‡πÉ‡∏´‡∏°‡πà‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å‡∏ó‡πà‡∏≤‡∏ô</p>

        <div style='background-color: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;'>
            <h3 style='color: #495057; margin-top: 0;'>üìã ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏≠‡∏ö‡∏£‡∏°</h3>
            <table style='width: 100%; border-collapse: collapse;'>
                <tr>
                    <td style='padding: 8px 0; color: #6c757d;'><strong>‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£:</strong></td>
                    <td style='padding: 8px 0;'>{request.DocNo}</td>
                </tr>
                <tr>
                    <td style='padding: 8px 0; color: #6c757d;'><strong>‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏Å‡∏≤‡∏£‡∏≠‡∏ö‡∏£‡∏°:</strong></td>
                    <td style='padding: 8px 0;'>{request.SeminarTitle}</td>
                </tr>
                <tr>
                    <td style='padding: 8px 0; color: #6c757d;'><strong>‡∏ú‡∏π‡πâ‡∏Ç‡∏≠‡∏≠‡∏ö‡∏£‡∏°:</strong></td>
                    <td style='padding: 8px 0;'>{request.EmployeeName}</td>
                </tr>
                <tr>
                    <td style='padding: 8px 0; color: #6c757d;'><strong>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏ö‡∏£‡∏°:</strong></td>
                    <td style='padding: 8px 0;'>{request.StartDate:dd/MM/yyyy} - {request.EndDate:dd/MM/yyyy}</td>
                </tr>
                <tr>
                    <td style='padding: 8px 0; color: #6c757d;'><strong>‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó:</strong></td>
                    <td style='padding: 8px 0;'>{request.Company}</td>
                </tr>
                <tr>
                    <td style='padding: 8px 0; color: #6c757d;'><strong>‡∏ù‡πà‡∏≤‡∏¢:</strong></td>
                    <td style='padding: 8px 0;'>{request.Department}</td>
                </tr>
                <tr>
                    <td style='padding: 8px 0; color: #6c757d;'><strong>‡πÅ‡∏ú‡∏ô‡∏Å:</strong></td>
                    <td style='padding: 8px 0;'>{request.Section}</td>
                </tr>
                <tr>
                    <td style='padding: 8px 0; color: #6c757d;'><strong>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢:</strong></td>
                    <td style='padding: 8px 0;'>{request.TotalExpenses:N2} ‡∏ö‡∏≤‡∏ó</td>
                </tr>
            </table>
        </div>

        <div style='background-color: #e3f2fd; padding: 15px; border-left: 4px solid #2196f3; margin: 20px 0;'>
            <p style='margin: 0;'><strong>üîó ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Ñ‡∏•‡∏¥‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏≠‡∏ö‡∏£‡∏°:</strong></p>
            <p style='margin: 10px 0 0 0;'>
                <a href='{GetApprovalUrl(request.DocNo)}'
                   style='display: inline-block; background-color: #007bff; color: white;
                          padding: 12px 24px; text-decoration: none; border-radius: 5px;
                          font-weight: bold;'>
                    ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÅ‡∏•‡∏∞‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
                </a>
            </p>
        </div>

        <!-- üÜï ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏±‡πâ‡∏á 6 ‡∏£‡∏∞‡∏î‡∏±‡∏ö -->
        {GenerateApprovalStatusHtml(request)}

        <hr style='border: none; border-top: 1px solid #dee2e6; margin: 30px 0;'>

        <p style='color: #6c757d; font-size: 12px;'>
            ‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ô‡∏µ‡πâ‡∏™‡πà‡∏á‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏≠‡∏ö‡∏£‡∏° (Training Request System)<br>
            ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ô‡∏µ‡πâ
        </p>
    </body>
    </html>";

    return await SendEmail(toEmail, subject, body);
}
```

#### 2. ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥

```csharp
/// <summary>
/// ‡∏™‡∏£‡πâ‡∏≤‡∏á HTML ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏±‡πâ‡∏á 6 ‡∏£‡∏∞‡∏î‡∏±‡∏ö
/// </summary>
private string GenerateApprovalStatusHtml(TrainingRequestEditViewModel request)
{
    return $@"
    <div style='margin: 20px 0;'>
        <h4 style='color: #495057;'>üìä ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</h4>
        <table style='width: 100%; border-collapse: collapse; margin-top: 10px;'>
            <thead>
                <tr style='background-color: #f8f9fa;'>
                    <th style='padding: 12px; text-align: left; border: 1px solid #dee2e6;'>‡∏£‡∏∞‡∏î‡∏±‡∏ö</th>
                    <th style='padding: 12px; text-align: left; border: 1px solid #dee2e6;'>‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</th>
                    <th style='padding: 12px; text-align: left; border: 1px solid #dee2e6;'>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style='padding: 10px; border: 1px solid #dee2e6;'>1. Section Manager</td>
                    <td style='padding: 10px; border: 1px solid #dee2e6;'>{GetApproverDisplay(request.SectionManagerId)}</td>
                    <td style='padding: 10px; border: 1px solid #dee2e6;'>{GetStatusBadge(request.Status_SectionManager)}</td>
                </tr>
                <tr>
                    <td style='padding: 10px; border: 1px solid #dee2e6;'>2. Department Manager</td>
                    <td style='padding: 10px; border: 1px solid #dee2e6;'>{GetApproverDisplay(request.DepartmentManagerId)}</td>
                    <td style='padding: 10px; border: 1px solid #dee2e6;'>{GetStatusBadge(request.Status_DepartmentManager)}</td>
                </tr>
                <tr>
                    <td style='padding: 10px; border: 1px solid #dee2e6;'>3. HRD Admin</td>
                    <td style='padding: 10px; border: 1px solid #dee2e6;'>{GetApproverDisplay(request.HRDAdminId)}</td>
                    <td style='padding: 10px; border: 1px solid #dee2e6;'>{GetStatusBadge(request.Status_HRDAdmin)}</td>
                </tr>
                <tr>
                    <td style='padding: 10px; border: 1px solid #dee2e6;'>4. HRD Confirmation</td>
                    <td style='padding: 10px; border: 1px solid #dee2e6;'>{GetApproverDisplay(request.HRDConfirmationId)}</td>
                    <td style='padding: 10px; border: 1px solid #dee2e6;'>{GetStatusBadge(request.Status_HRDConfirmation)}</td>
                </tr>
                <tr>
                    <td style='padding: 10px; border: 1px solid #dee2e6;'>5. Managing Director</td>
                    <td style='padding: 10px; border: 1px solid #dee2e6;'>{GetApproverDisplay(request.ManagingDirectorId)}</td>
                    <td style='padding: 10px; border: 1px solid #dee2e6;'>{GetStatusBadge(request.Status_ManagingDirector)}</td>
                </tr>
                <tr style='background-color: #fff3cd;'>
                    <td style='padding: 10px; border: 1px solid #dee2e6;'><strong>6. Deputy Managing Director</strong></td>
                    <td style='padding: 10px; border: 1px solid #dee2e6;'><strong>{GetApproverDisplay(request.DeputyManagingDirectorId)}</strong></td>
                    <td style='padding: 10px; border: 1px solid #dee2e6;'><strong>{GetStatusBadge(request.Status_DeputyManagingDirector)}</strong></td>
                </tr>
            </tbody>
        </table>
    </div>";
}

/// <summary>
/// ‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏´‡∏£‡∏∑‡∏≠ "Skip" ‡∏ñ‡πâ‡∏≤‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô
/// </summary>
private string GetApproverDisplay(string approverId)
{
    if (IsSkipApprover(approverId))
        return "<span style='color: #ff9800;'>‚è≠Ô∏è ‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô</span>";

    if (string.IsNullOrEmpty(approverId))
        return "<span style='color: #9e9e9e;'>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏</span>";

    return approverId;
}

/// <summary>
/// ‡∏™‡∏£‡πâ‡∏≤‡∏á Badge ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
/// </summary>
private string GetStatusBadge(string status)
{
    return status?.ToUpper() switch
    {
        "APPROVED" => "<span style='background-color: #28a745; color: white; padding: 4px 8px; border-radius: 4px;'>‚úÖ Approved</span>",
        "REJECTED" => "<span style='background-color: #dc3545; color: white; padding: 4px 8px; border-radius: 4px;'>‚ùå Rejected</span>",
        "REVISE" => "<span style='background-color: #ffc107; color: black; padding: 4px 8px; border-radius: 4px;'>üîÑ Revise</span>",
        "PENDING" => "<span style='background-color: #6c757d; color: white; padding: 4px 8px; border-radius: 4px;'>‚è≥ Pending</span>",
        _ => "<span style='background-color: #e9ecef; color: #495057; padding: 4px 8px; border-radius: 4px;'>-</span>"
    };
}
```

### ‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô

```csharp
// ‡πÉ‡∏ô‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô ProcessApproval()
string nextApproverEmail = _workflowService.GetNextApproverEmail(nextStatus, model);

// ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô Skip Approver ‚Üí GetNextApproverEmail() ‡∏à‡∏∞‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤ NULL
if (!string.IsNullOrEmpty(nextApproverEmail))
{
    // ‡∏™‡πà‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
    await _emailService.SendApprovalEmail(
        nextApproverEmail,
        _workflowService.GetNextApproverName(nextStatus),
        model,
        nextStatus
    );
}
else
{
    // ‡∏Ç‡πâ‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏• (‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏õ‡πá‡∏ô Skip Approver)
    Console.WriteLine($"‚è≠Ô∏è Skipped sending email (Skip Approver)");
}
```

---

## ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà 1: Login ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£**: ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ Login ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏î‡πâ ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° "An error occurred while processing your request"

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏**:
- Database ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£ Migrate
- ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå Deputy Managing Director ‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á TrainingRequests
- Code ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**:
1. ‡∏£‡∏±‡∏ô Migration Script:
   ```sql
   -- Database/AddDeputyManagingDirector.sql
   ALTER TABLE [dbo].[TrainingRequests]
   ADD
       DeputyManagingDirectorId NVARCHAR(100) NULL,
       Status_DeputyManagingDirector NVARCHAR(20) NULL,
       Comment_DeputyManagingDirector NVARCHAR(500) NULL,
       ApproveInfo_DeputyManagingDirector NVARCHAR(200) NULL;
   ```

2. Restart Application

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà 2: Status_DeputyManagingDirector ‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á "Pending"

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£**: ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ç‡∏≠‡∏á Deputy Managing Director ‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡πá‡∏ô NULL ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô "Pending"

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏**:
- INSERT query ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
- ‡∏Ç‡∏≤‡∏î‡∏Å‡∏≤‡∏£ Initialize Status Columns

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**:
1. ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç `InsertTrainingRequest()` ‡πÉ‡∏ô TrainingRequestController.cs:
   ```csharp
   INSERT INTO ... (
       ...,
       SectionManagerId, Status_SectionManager,
       DepartmentManagerId, Status_DepartmentManager,
       HRDAdminId, Status_HRDAdmin,
       HRDConfirmationId, Status_HRDConfirmation,
       ManagingDirectorId, Status_ManagingDirector,
       DeputyManagingDirectorId, Status_DeputyManagingDirector
   )
   VALUES (
       ...,
       @SectionManagerId, 'Pending',
       @DepartmentManagerId, 'Pending',
       @HRDAdminId, 'Pending',
       @HRDConfirmationId, 'Pending',
       @ManagingDirectorId, 'Pending',
       @DeputyManagingDirectorId, 'Pending'
   )
   ```

2. ‡∏£‡∏±‡∏ô Update Script ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Records ‡πÄ‡∏Å‡πà‡∏≤:
   ```sql
   -- Database/UpdateExistingRecords_DeputyMD.sql
   UPDATE [dbo].[TrainingRequests]
   SET
       Status_SectionManager = ISNULL(Status_SectionManager, 'Pending'),
       ...
       Status_DeputyManagingDirector = ISNULL(Status_DeputyManagingDirector, 'Pending')
   WHERE IsActive = 1;
   ```

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà 3: ApprovalFlow ‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Deputy Managing Director

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£**:
- ‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• `DeputyManagingDirectorId = "deputy@company.com"`
- ‡πÅ‡∏ï‡πà ApprovalFlow ‡πÅ‡∏™‡∏î‡∏á "‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥"

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏**:
- `ApprovalFlow()` method ‡πÉ‡∏ô Controller ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ SELECT ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå Deputy Managing Director ‡∏à‡∏≤‡∏Å Database
- Model ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**:
```csharp
// ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ApprovalFlow() ‡πÉ‡∏ô TrainingRequestController.cs

// 1. ‡πÄ‡∏û‡∏¥‡πà‡∏° Deputy MD columns ‡πÉ‡∏ô SELECT query
string query = @"
    SELECT
        ...,
        ManagingDirectorId, Status_ManagingDirector, Comment_ManagingDirector, ApproveInfo_ManagingDirector,
        DeputyManagingDirectorId, Status_DeputyManagingDirector, Comment_DeputyManagingDirector, ApproveInfo_DeputyManagingDirector
    FROM [HRDSYSTEM].[dbo].[TrainingRequests]
    WHERE DocNo = @DocNo AND IsActive = 1";

// 2. ‡πÄ‡∏û‡∏¥‡πà‡∏° Deputy MD property assignments
var model = new TrainingRequestEditViewModel
{
    ...,
    DeputyManagingDirectorId = reader["DeputyManagingDirectorId"]?.ToString(),
    Status_DeputyManagingDirector = reader["Status_DeputyManagingDirector"]?.ToString(),
    Comment_DeputyManagingDirector = reader["Comment_DeputyManagingDirector"]?.ToString(),
    ApproveInfo_DeputyManagingDirector = reader["ApproveInfo_DeputyManagingDirector"]?.ToString()
};
```

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà 4: SKIP Option ‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô Create Form

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£**:
- ‡πÅ‡∏°‡πâ HTML ‡∏°‡∏µ `<option>` SKIP
- ‡πÅ‡∏ï‡πà Dropdown ‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å "‚è≠Ô∏è ‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥"

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏**:
- Select2 ‡πÉ‡∏ä‡πâ AJAX ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ö‡∏ö Dynamic
- Static HTML `<option>` ‡∏ñ‡∏π‡∏Å‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏î‡πâ‡∏ß‡∏¢‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å API
- `processResults()` ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏û‡∏¥‡πà‡∏° SKIP option

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**:
```javascript
// ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç processResults ‡πÉ‡∏ô Create.cshtml

processResults: function (data) {
    console.log('üìã Section Managers found:', data.length);

    // 1. ‡∏™‡∏£‡πâ‡∏≤‡∏á array ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢ SKIP option
    var results = [{
        id: '‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥',
        text: '‚è≠Ô∏è ‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥'
    }];

    // 2. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡∏ó‡πâ‡∏≤‡∏¢
    results = results.concat(data.map(function(item) {
        return {
            id: item.email,
            text: item.email + ' (' + item.name + ' - ' + item.level + ')'
        };
    }));

    return { results: results };
}
```

**‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Select2 ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**:
- Create.cshtml: 7 instances
- Edit.cshtml: 7 instances

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà 5: NULL/Empty String ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡πá‡∏ô SKIP

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£**:
- Records ‡πÄ‡∏Å‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏°‡∏µ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå Deputy MD ‡∏°‡∏µ `DeputyManagingDirectorId = NULL`
- ApprovalFlow ‡πÅ‡∏™‡∏î‡∏á "‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥" ‡πÅ‡∏ï‡πà‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏õ‡πá‡∏ô "APPROVED" (‡πÑ‡∏°‡πà‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô)

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏**:
- `IsSkipApprover()` ‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤ FALSE ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö NULL/Empty
- Logic ‡∏Ñ‡∏¥‡∏î‡∏ß‡πà‡∏≤‡∏¢‡∏±‡∏á‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å Deputy MD

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**:
```csharp
// ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç IsSkipApprover() ‡πÉ‡∏ô ApprovalWorkflowService.cs

private bool IsSkipApprover(string approverId)
{
    // üÜï NULL ‡∏´‡∏£‡∏∑‡∏≠ empty string = SKIP (backward compatibility)
    if (string.IsNullOrWhiteSpace(approverId))
        return true;

    // ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤ SKIP_APPROVER ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
    return string.Equals(approverId.Trim(), SKIP_APPROVER, StringComparison.OrdinalIgnoreCase);
}
```

**‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏ô 2 ‡∏ó‡∏µ‡πà**:
1. `Services/ApprovalWorkflowService.cs` - Logic ‡∏ù‡∏±‡πà‡∏á Backend
2. `Views/TrainingRequest/ApprovalFlow.cshtml` - Helper function ‡∏ù‡∏±‡πà‡∏á View

---

## ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

### ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

#### 1. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Database Migration

```sql
-- 1. ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå Deputy MD ‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
SELECT
    COLUMN_NAME,
    DATA_TYPE,
    CHARACTER_MAXIMUM_LENGTH,
    IS_NULLABLE
FROM INFORMATION_SCHEMA.COLUMNS
WHERE TABLE_NAME = 'TrainingRequests'
    AND COLUMN_NAME LIKE '%Deputy%'
ORDER BY ORDINAL_POSITION;

-- ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£:
-- DeputyManagingDirectorId          NVARCHAR  100   YES
-- Status_DeputyManagingDirector     NVARCHAR  20    YES
-- Comment_DeputyManagingDirector    NVARCHAR  500   YES
-- ApproveInfo_DeputyManagingDirector NVARCHAR 200   YES

-- 2. ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏î‡∏¥‡∏°‡∏°‡∏µ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ Pending ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
SELECT
    DocNo,
    Status_SectionManager,
    Status_DepartmentManager,
    Status_HRDAdmin,
    Status_HRDConfirmation,
    Status_ManagingDirector,
    Status_DeputyManagingDirector
FROM [dbo].[TrainingRequests]
WHERE IsActive = 1
    AND Status_DeputyManagingDirector IS NULL;

-- ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ records ‡∏ó‡∏µ‡πà Status ‡πÄ‡∏õ‡πá‡∏ô NULL ‚Üí ‡∏£‡∏±‡∏ô UpdateExistingRecords_DeputyMD.sql
```

#### 2. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏≠‡∏ö‡∏£‡∏°‡πÉ‡∏´‡∏°‡πà

**Test Case 1**: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà Skip ‡πÉ‡∏Ñ‡∏£‡πÄ‡∏•‡∏¢

```
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ Create
2. ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏∏‡∏Å‡∏ü‡∏¥‡∏•‡∏î‡πå
3. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏∏‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏à‡∏≤‡∏Å Dropdown (‡πÑ‡∏°‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å SKIP)
4. ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å

Expected:
‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
‚úÖ ‡∏ó‡∏∏‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏°‡∏µ Status = "Pending"
‚úÖ Deputy Managing Director ‡∏°‡∏µ‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ß‡πâ
```

**Test Case 2**: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÇ‡∏î‡∏¢ Skip Deputy Managing Director

```
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ Create
2. ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
3. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å "‚è≠Ô∏è ‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥" ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Deputy MD
4. ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å

Expected:
‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
‚úÖ DeputyManagingDirectorId = "‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥"
‚úÖ Status_DeputyManagingDirector = "Pending"
```

#### 3. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Workflow ‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥

**Test Case 3**: ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö (‡πÑ‡∏°‡πà Skip)

```
1. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà Skip ‡πÉ‡∏Ñ‡∏£‡πÄ‡∏•‡∏¢
2. ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å Section Manager ‚Üí ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô WAITING_FOR_DEPARTMENT_MANAGER
3. ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å Department Manager ‚Üí ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô WAITING_FOR_HRD_ADMIN
4. ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å HRD Admin ‚Üí ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô WAITING_FOR_HRD_CONFIRMATION
5. ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å HRD Confirmation ‚Üí ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô WAITING_FOR_MANAGING_DIRECTOR
6. ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å Managing Director ‚Üí ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô WAITING_FOR_DEPUTY_MANAGING_DIRECTOR
7. ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å Deputy Managing Director ‚Üí ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô APPROVED ‚úÖ

Expected:
‚úÖ ‡∏ó‡∏∏‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
‚úÖ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢ = "APPROVED"
‚úÖ Deputy Managing Director ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
```

**Test Case 4**: ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÇ‡∏î‡∏¢ Skip Deputy MD

```
1. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÇ‡∏î‡∏¢ Skip Deputy MD
2. ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏à‡∏ô‡∏ñ‡∏∂‡∏á Managing Director
3. ‡πÄ‡∏°‡∏∑‡πà‡∏≠ Managing Director ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ ‚Üí ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô APPROVED ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á ‚úÖ

Expected:
‚úÖ ‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô Deputy MD
‚úÖ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢ = "APPROVED"
‚úÖ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠ Deputy MD ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
```

**Test Case 5**: Skip ‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏∞‡∏î‡∏±‡∏ö

```
1. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÇ‡∏î‡∏¢:
   - Skip Section Manager
   - Skip Department Manager
   - Skip Managing Director
   - Skip Deputy Managing Director
2. ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠
3. ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å HRD Admin
4. ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å HRD Confirmation
5. ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô APPROVED ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‚úÖ

Expected:
‚úÖ ‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà Skip ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
‚úÖ ‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞ HRD Admin ‡πÅ‡∏•‡∏∞ HRD Confirmation (‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ Skip ‡πÑ‡∏î‡πâ)
```

#### 4. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö ApprovalFlow Display

**Test Case 6**: ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö SKIP Approver

```
1. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÇ‡∏î‡∏¢ Skip Deputy MD
2. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ ApprovalFlow
3. ‡∏î‡∏π‡∏™‡πà‡∏ß‡∏ô Deputy Managing Director

Expected:
‚úÖ ‡πÅ‡∏™‡∏î‡∏á "‚è≠Ô∏è ‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ (Skip)"
‚úÖ ‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•
‚úÖ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÅ‡∏™‡∏î‡∏á "Pending" ‡∏´‡∏£‡∏∑‡∏≠ "Approved" (‡∏Ç‡∏∂‡πâ‡∏ô‡∏Å‡∏±‡∏ö‡∏ß‡πà‡∏≤‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á)
```

**Test Case 7**: ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Records ‡πÄ‡∏Å‡πà‡∏≤ (NULL)

```
1. ‡∏î‡∏∂‡∏á records ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏°‡∏µ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå Deputy MD (DeputyManagingDirectorId = NULL)
2. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ ApprovalFlow

Expected:
‚úÖ ‡πÅ‡∏™‡∏î‡∏á "‚è≠Ô∏è ‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ (Skip)"
‚úÖ ‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á "‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥"
‚úÖ Backward compatibility ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
```

#### 5. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Email Notifications

**Test Case 8**: ‡∏™‡πà‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô Deputy MD

```
1. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÇ‡∏î‡∏¢‡∏£‡∏∞‡∏ö‡∏∏‡∏≠‡∏µ‡πÄ‡∏°‡∏• Deputy MD
2. ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏Ñ‡∏£‡∏ö‡∏à‡∏ô‡∏ñ‡∏∂‡∏á Managing Director
3. ‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏Ç‡∏≠‡∏á Deputy MD

Expected:
‚úÖ Deputy MD ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
‚úÖ ‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô
‚úÖ ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏£‡∏ö 6 ‡∏£‡∏∞‡∏î‡∏±‡∏ö
‚úÖ Deputy MD highlight ‡∏î‡πâ‡∏ß‡∏¢‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á
```

**Test Case 9**: ‡πÑ‡∏°‡πà‡∏™‡πà‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ñ‡πâ‡∏≤ Skip

```
1. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÇ‡∏î‡∏¢ Skip Deputy MD
2. ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏Ñ‡∏£‡∏ö‡∏à‡∏ô‡∏ñ‡∏∂‡∏á Managing Director
3. ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

Expected:
‚úÖ ‡πÑ‡∏°‡πà‡∏™‡πà‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÑ‡∏õ‡∏ó‡∏µ‡πà Deputy MD
‚úÖ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô APPROVED ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
‚úÖ Log ‡πÅ‡∏™‡∏î‡∏á "Skipped sending email (Skip Approver)"
```

#### 6. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Revise Flow

**Test Case 10**: Deputy MD ‡∏™‡πà‡∏á Revise

```
1. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠
2. ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏ô‡∏ñ‡∏∂‡∏á Deputy MD
3. Deputy MD ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å "Revise" ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏∞‡∏ö‡∏∏‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô
4. ‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞

Expected:
‚úÖ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô "Revision Admin"
‚úÖ ‡∏ú‡∏π‡πâ‡∏¢‡∏∑‡πà‡∏ô‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÅ‡∏à‡πâ‡∏á‡πÉ‡∏´‡πâ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
‚úÖ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡∏≠‡∏á Deputy MD ‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
```

### SQL Queries ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

```sql
-- 1. ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Deputy MD ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
SELECT
    Id,
    DocNo,
    DeputyManagingDirectorId,
    Status_DeputyManagingDirector,
    Comment_DeputyManagingDirector,
    ApproveInfo_DeputyManagingDirector,
    Status
FROM [dbo].[TrainingRequests]
WHERE IsActive = 1
ORDER BY CreatedDate DESC;

-- 2. ‡∏´‡∏≤ Records ‡∏ó‡∏µ‡πà Skip Deputy MD
SELECT
    DocNo,
    DeputyManagingDirectorId,
    Status
FROM [dbo].[TrainingRequests]
WHERE DeputyManagingDirectorId = '‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥'
    AND IsActive = 1;

-- 3. ‡∏´‡∏≤ Records ‡πÄ‡∏Å‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ Deputy MD = NULL
SELECT
    DocNo,
    DeputyManagingDirectorId,
    Status_DeputyManagingDirector,
    Status,
    CreatedDate
FROM [dbo].[TrainingRequests]
WHERE DeputyManagingDirectorId IS NULL
    AND IsActive = 1
ORDER BY CreatedDate DESC;

-- 4. ‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ó‡∏±‡πâ‡∏á 6 ‡∏£‡∏∞‡∏î‡∏±‡∏ö
SELECT
    DocNo,
    Status,
    Status_SectionManager AS [L1_SM],
    Status_DepartmentManager AS [L2_DM],
    Status_HRDAdmin AS [L3_HRD_Admin],
    Status_HRDConfirmation AS [L4_HRD_Conf],
    Status_ManagingDirector AS [L5_MD],
    Status_DeputyManagingDirector AS [L6_Deputy_MD]
FROM [dbo].[TrainingRequests]
WHERE IsActive = 1
ORDER BY CreatedDate DESC;
```

---

## ‡∏™‡∏£‡∏∏‡∏õ

### ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏´‡∏•‡∏±‡∏Å

1. **Database**: ‡πÄ‡∏û‡∏¥‡πà‡∏° 4 ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Deputy Managing Director
2. **Models**: ‡πÄ‡∏û‡∏¥‡πà‡∏° 4 ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡πÉ‡∏ô TrainingRequestEditViewModel
3. **Services**: ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï Workflow Logic ‡πÉ‡∏´‡πâ Deputy MD ‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢
4. **Controllers**: ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Insert, Select, ‡πÅ‡∏•‡∏∞ Approval Logic
5. **Views**: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÅ‡∏•‡∏∞‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Deputy MD
6. **Email**: ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡πÄ‡∏ó‡∏°‡πÄ‡∏û‡∏•‡∏ï‡πÉ‡∏´‡πâ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏£‡∏ö 6 ‡∏£‡∏∞‡∏î‡∏±‡∏ö

### ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç

- ‚úÖ Deputy Managing Director ‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢
- ‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô (Skip) ‡∏ó‡∏∏‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö ‡∏¢‡∏Å‡πÄ‡∏ß‡πâ‡∏ô HRD
- ‚úÖ Backward compatibility ‡∏Å‡∏±‡∏ö Records ‡πÄ‡∏Å‡πà‡∏≤
- ‚úÖ Select2 AJAX Dropdowns ‡∏û‡∏£‡πâ‡∏≠‡∏° SKIP option
- ‚úÖ ApprovalFlow Timeline ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏£‡∏ö 6 ‡∏£‡∏∞‡∏î‡∏±‡∏ö
- ‚úÖ Email Notifications ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô

### Commits ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

1. Initial Deputy MD implementation
2. Database migration scripts
3. Models update
4. Services logic update
5. Controllers update
6. Views - ApprovalFlow timeline
7. Views - Status initialization fix
8. Views - ApprovalFlow SKIP display
9. Views - SKIP options in dropdowns
10. Views - Consistent SKIP detection
11. Service - Backward compatibility fix
12. Controller - ApprovalFlow data loading fix
13. Views - Create form SKIP options in AJAX
14. Views - Edit form SKIP options in AJAX

---

**‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠**: 22 ‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏° 2568
**‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô**: 1.0
**‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô**: Claude (AI Assistant)
**‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå**: ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÅ‡∏•‡∏∞‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏£‡∏∞‡∏ö‡∏ö
